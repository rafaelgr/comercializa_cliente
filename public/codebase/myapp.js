!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/codebase/",n(n.s=24)}([function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={geturlApi:function(){return"http://proasistencia.ddns.net:8080"},getConfig:function(){return new Promise(function(e,t){webix.ajax().timeout(1e4).headers({"Content-Type":"application/json"}).get("/config").then(function(t){e(t.json())}).catch(function(e){t(e)})})},getVersion:function(){return new Promise(function(e,t){webix.ajax().timeout(1e4).headers({"Content-Type":"application/json"}).get("/version").then(function(t){e(t.json())}).catch(function(e){t(e)})})}}},function(e,t,n){"use strict";var o={areCookiesEnabled:function(){var e=!!navigator.cookieEnabled;return void 0!==navigator.cookieEnabled||e||(document.cookie="testcookie",e=-1!=document.cookie.indexOf("testcookie")),e},setCookie:function(e,t,n){o.areCookiesEnabled()||alert("NO COOKIES");var i=new Date;i.setDate(i.getDate()+n);var r=encodeURI(t)+(null==n?"":"; expires="+i.toUTCString());document.cookie=e+"="+r},deleteCookie:function(e){o.areCookiesEnabled()||alert("NO COOKIES"),document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},getCookie:function(e){var t,n,o,i=document.cookie.split(";");for(t=0;t<i.length;t++)if(n=i[t].substr(0,i[t].indexOf("=")),o=i[t].substr(i[t].indexOf("=")+1),(n=n.replace(/^\s+|\s+$/g,""))==e)return decodeURI(o)}},i=n(0);n.d(t,"a",function(){return r});var r={getUsuarioCookie:function(){var e=o.getCookie("comercializa_usuario");return e?JSON.parse(e):null},setUsuarioCookie:function(e){o.setCookie("comercializa_usuario",JSON.stringify(e),1)},deleteUsuarioCookie:function(e){o.deleteCookie("comercializa_usuario")},checkLoggedUser:function(){var e=r.getUsuarioCookie();return e||!1},getLogin:function(e,t){return new webix.promise(function(n,o){i.a.getConfig().then(function(n){var o=n.urlApi+"/api/comerciales/login";return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json"}).post(o,{login:e,password:t})}).then(function(e){n(e.json())}).catch(function(e){o(e)})})}}},function(e,t,n){"use strict";var o=function(){function e(){this.webixJet=!0,this._id=webix.uid(),this._events=[],this._subs={},this._data={}}return e.prototype.getRoot=function(){return this._root},e.prototype.destructor=function(){for(var e=this._events,t=e.length-1;t>=0;t--)e[t].obj.detachEvent(e[t].id);for(var n in this._subs){var o=this._subs[n].view;o&&o.destructor()}this._events=this._container=this.app=this._parent=null},e.prototype.setParam=function(e,t,n){var o;this._data[e]!==t&&(this._data[e]=t,this.app.callEvent("app:paramchange",[this,e,t,n])&&n&&this.show(((o={})[e]=t,o)))},e.prototype.getParam=function(e,t){var n=this._data[e];if(void 0!==n||!t)return n;var o=this.getParentView();return o?o.getParam(e,t):void 0},e.prototype.getUrl=function(){return this._url},e.prototype.render=function(e,t,n){var o=this;this._parent=n,t&&(this._index=t[0].index),this._init_url_data(t);var i="string"==typeof(e=e||document.body)?webix.toNode(e):e;return this._container!==i?(this._container=i,this._render(t).then(function(){return o.getRoot()})):this._urlChange(t).then(function(){return o.getRoot()})},e.prototype.getIndex=function(){return this._index},e.prototype.getId=function(){return this._id},e.prototype.getParentView=function(){return this._parent},e.prototype.$$=function(e){if("string"==typeof e){var t=this.getRoot();return t.queryView(function(n){return(n.config.id===e||n.config.localId===e)&&n.$scope===t.$scope},"self")}return e},e.prototype.on=function(e,t,n){var o=e.attachEvent(t,n);return this._events.push({obj:e,id:o}),o},e.prototype.contains=function(e){for(var t in this._subs){var n=this._subs[t].view;if(n===e||n.contains(e))return!0}return!1},e.prototype.getSubView=function(e){var t=this.getSubViewInfo(e);if(t)return t.subview.view},e.prototype.getSubViewInfo=function(e){var t=this._subs[e||"default"];return t?{subview:t,parent:this}:this._parent?this._parent.getSubViewInfo(e):null},e.prototype.getName=function(){return this._name},e.prototype._init_url_data=function(e){e&&e[0]&&(this._data={},webix.extend(this._data,e[0].params,!0)),this._url=e},e}();function i(e){"/"===e[0]&&(e=e.substr(1));for(var t=e.split("/"),n=[],o=0;o<t.length;o++){var i=t[o],r={},a=i.indexOf(":");if(-1===a&&(a=i.indexOf("?")),-1!==a)for(var s=0,c=i.substr(a+1).split(/[\:\?\&]/g);s<c.length;s++){var u=c[s].split("=");r[u[0]]=decodeURIComponent(u[1])}n[o]={page:a>-1?i.substr(0,a):i,params:r,index:o+1}}return n}function r(e){for(var t=[],n=0,o=e;n<o.length;n++){var i=o[n];t.push("/"+i.page);var r=a(i.params);r&&t.push("?"+r)}return t.join("")}function a(e){var t=[];for(var n in e)t.length&&t.push("&"),t.push(n+"="+encodeURIComponent(e[n]));return t.join("")}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),u=function(e){function t(t,n){var o=e.call(this)||this;return o.app=t,o._name=n,o._children=[],o}return c(t,e),t.prototype.ui=function(e,t){var n=(t=t||{}).container||e.container,i=this.app.createView(e);return this._children.push(i),i.render(n,null,this),"object"!==(void 0===e?"undefined":s(e))||e instanceof o?i:i.getRoot()},t.prototype.show=function(e,t){var n=this;if(t=t||{},"string"==typeof e){if("/"===e.substr(0,1))return this.app.show(e);if(0===e.indexOf("../")){var o=this.getParentView();return void(o?o.show("./"+e.substr(3),t):this.app.show("/"+e.substr(3)))}0===e.indexOf("./")&&(e=e.substr(2));var a=this.getSubViewInfo(t.target);if(!a)return this.app.show("/"+e);if(a.parent!==this)return a.parent.show(e,t)}var c=i(this.app.getRouter().get());if("object"===(void 0===e?"undefined":s(e)))if(webix.isArray(e)){var u=this._index+e[0];c[u]||(c[u]={}),c[u].page=e[1],e=""}else{var l=[];for(var p in e)l.push(encodeURIComponent(p)+"="+encodeURIComponent(e[p]));e="?"+l.join("&")}if("string"==typeof e){if("?"===e.substr(0,1)){var f=e.indexOf("/"),h=e;f>-1&&(h=e.substr(0,f));var d=i(h);webix.extend(c[this._index-1].params,d[0].params,!0),e=f>-1?e.substr(f+1):""}var v=""===e?c.slice(this._index):i(e),g=null;if(this._index){g=c.slice(0,this._index).concat(v);for(var y=0;y<g.length;y++)g[y].index=y+1;var m=r(g);return this.app.canNavigate(m,this).then(function(e){return null!==e?m!==e?n.app.show(e):n._finishShow(g,e):null})}return this._finishShow(v,"")}},t.prototype.init=function(e,t){},t.prototype.ready=function(e,t){},t.prototype.config=function(){this.app.webix.message("View:Config is not implemented")},t.prototype.urlChange=function(e,t){},t.prototype.destroy=function(){},t.prototype.destructor=function(){this.destroy(),this._destroyKids(),this.app=this._parentFrame=null,this._root.destructor(),e.prototype.destructor.call(this)},t.prototype.use=function(e,t){e(this.app,this,t)},t.prototype.refresh=function(){var e=this;this._destroyKids();var t=[];this._index>1&&(t=i(this.app.getRouter().get()).slice(this._index-1)),this._render(t).then(function(){e._parentFrame.id=e.getRoot().config.id})},t.prototype._render=function(e){var t=this,n=this.config();return n.then?n.then(function(n){return t._render_final(n,e)}):this._render_final(n,e)},t.prototype._render_final=function(e,t){var n,o=this,i=this._container;if(i&&i.$destructed)return Promise.reject("Container destroyed");var r={ui:{}};this.app.copyConfig(e,r.ui,this._subs),this.app.callEvent("app:render",[this,t,r]),r.ui.$scope=this;try{if(i&&i.getParentView){var a=i.getParentView();a&&"multiview"===a.name&&!r.ui.id&&(r.ui.id=i.config.id)}this._root=this.app.webix.ui(r.ui,this._container),this._root.getParentView()&&(this._container=this._root),this._init(this._root,t),n=this._urlChange(t).then(function(){return o.ready(o._root,t)})}catch(e){n=Promise.reject(e)}return n.catch(function(e){return o._initError(o,e)})},t.prototype._init=function(e,t){return this.init(e,t)},t.prototype._urlChange=function(e){var t=this;this.app.callEvent("app:urlchange",[this,e,this._index]);var n=[];for(var o in this._subs){var i=this._renderFrame(o,this._subs[o],e);i&&n.push(i)}return Promise.all(n).then(function(){t.urlChange(t._root,e)})},t.prototype._renderFrame=function(e,t,n){if(t.url){if("string"==typeof t.url){var o=i(t.url);return o.map(function(e){e.index=0}),this._createSubView(t,o)}var r=t.view;return"function"!=typeof t.url||r instanceof t.url||(r=new t.url(this.app,"")),r||(r=t.url),this._renderSubView(t,r,n)}if("default"===e&&n&&n.length>1){var a=n.slice(1);return this._createSubView(t,a)}},t.prototype._initError=function(e,t){return this.app.error("app:error:initview",[t,e]),!0},t.prototype._createSubView=function(e,t){var n=this;return this.app.createFromURL(t,e.view).then(function(o){return n._renderSubView(e,o,t)})},t.prototype._renderSubView=function(e,n,o){var i=this.app.webix.$$(e.id);return n.render(i,o,this).then(function(o){return e.view&&e.view!==n&&e.view.destructor(),e.view=n,e.id=o.config.id,n instanceof t&&(n._parentFrame=e),o})},t.prototype._finishShow=function(e,t){var n;return this._index?(n=this._renderPartial(e.slice(this._index-1)),this.app.getRouter().set(t,{silent:!0}),this.app.callEvent("app:route",[e])):(e.map(function(e){return e.index=0}),n=this._renderPartial([null].concat(e))),n},t.prototype._renderPartial=function(e){return this._init_url_data(e),this._urlChange(e)},t.prototype._destroyKids=function(){for(var e=this._children,t=e.length-1;t>=0;t--)e[t]&&e[t].destructor&&e[t].destructor();this._children=[]},t}(o),l=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),p=function(e){function t(t,n,o){var i=e.call(this,t,n)||this;return i._ui=o,i._windows=[],i}return l(t,e),t.prototype.getRoot=function(){if(this.app.config.jet1xMode){var e=this.getParentView();if(e)return e.getRoot()}return this._root},t.prototype.config=function(){return this._ui.$ui||this._ui},t.prototype.destructor=function(){var t=this._ui.$ondestroy;t&&t();for(var n=0,o=this._windows;n<o.length;n++){o[n].destructor()}e.prototype.destructor.call(this)},t.prototype.show=function(t,n){if(0===t.indexOf("/")||0===t.indexOf("./"))return e.prototype.show.call(this,t,n);e.prototype.show.call(this,"../"+t,n)},t.prototype.init=function(){this.app.config.legacyEarlyInit&&this._realInitHandler()},t.prototype.ready=function(){this.app.config.legacyEarlyInit||this._realInitHandler()},t.prototype._realInitHandler=function(){var e=this._ui.$oninit;if(e){var n=this.getRoot();e(n,n.$scope)}var o=this._ui.$onevent;if(o)for(var i in o)this.on(this.app,i,o[i]);var r=this._ui.$windows;if(r)for(var a=0,s=r;a<s.length;a++){var c=s[a];if(c.$ui){var u=new t(this.app,this.getName(),c);u.render(document.body),this._windows.push(u)}else this.ui(c)}},t.prototype._urlChange=function(t){var n=this;return e.prototype._urlChange.call(this,t).then(function(){var e=n._ui.$onurlchange;if(e){var o=n.getRoot();e(t[0].params,t.slice(1),o.$scope)}})},t}(u),f=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),h=function(e){function t(t,n,o){var i=e.call(this,t,n)||this;return i._ui=o,i}return f(t,e),t.prototype.config=function(){return this._ui},t}(u),d=n(10),v=n.n(d),g=function(){function e(e,t){var n=this;this.config=t||{},this._prefix=this.config.routerPrefix,void 0===this._prefix&&(this._prefix="!");var o=function(e){};v()(this._prefix+"*",function(){return n._lastUrl="",o(n.get())}),o=e}return e.prototype.set=function(e,t){if(this.config.routes){var n=e.split("?",2);for(var o in this.config.routes)if(this.config.routes[o]===n[0]){e=o+(n.length>1?"?"+n[1]:"");break}}this._lastUrl=e,v.a.navigate(this._prefix+e,t)},e.prototype.get=function(){var e=this._lastUrl||(window.location.hash||"").replace("#"+this._prefix,"");if(this.config.routes){var t=e.split("?",2),n=this.config.routes[t[0]];n&&(e=n+(t.length>1?"?"+t[1]:""))}return e},e}(),y=(n(25),"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),m=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),b=function(e){function t(t){var n=e.call(this)||this;return n.webix=t.webix||webix,n.config=n.webix.extend({name:"App",version:"1.0",start:"/home"},t,!0),n._name=n.config.name,n._services={},webix.extend(n,webix.EventSystem),n}return m(t,e),t.prototype.getService=function(e){var t=this._services[e];return"function"==typeof t&&(t=this._services[e]=t(this)),t},t.prototype.setService=function(e,t){this._services[e]=t},t.prototype.copyConfig=function(e,t,n){if(e.$ui?e={$subview:new p(this,"",e)}:(e instanceof o||"function"==typeof e&&e.prototype instanceof o)&&(e={$subview:e}),e.$subview)return this.addSubView(e,t,n);for(var i in t=t||(e instanceof Array?[]:{}),e){var r=e[i];"function"==typeof r&&r.prototype instanceof o&&(r={$subview:r}),!r||"object"!==(void 0===r?"undefined":y(r))||r instanceof webix.DataCollection||r instanceof RegExp?t[i]=r:r instanceof Date?t[i]=new Date(r):t[i]=this.copyConfig(r,r instanceof Array?[]:{},n)}return t},t.prototype.getRouter=function(){return this.$router},t.prototype.clickHandler=function(e){if(e){var t=e.target||e.srcElement;if(t&&t.getAttribute){var n=t.getAttribute("trigger");n&&this.trigger(n);var o=t.getAttribute("route");o&&this.show(o)}}},t.prototype.refresh=function(){var e=this._container;this._view._name=webix.uid()+"",this._container=null,this.render(e,i(this.getRouter().get()),this._parent)},t.prototype.loadView=function(e){var t=this,o=this.config.views,i=null;if(""===e)return Promise.resolve(this._loadError("",new Error("Webix Jet: Empty url segment")));try{o&&"string"==typeof(i="function"==typeof o?o(e):o[e])&&(e=i,i=null),i||(e=e.replace(/\./g,"/"),i=n(26)("./"+e))}catch(t){i=this._loadError(e,t)}return i.then||(i=Promise.resolve(i)),i=i.then(function(e){return e.__esModule?e.default:e}).catch(function(n){return t._loadError(e,n)})},t.prototype.createFromURL=function(e,t){var n=this,o=e[0],i=o.page;return t&&t.getName()===i?Promise.resolve(t):this.loadView(o.page).then(function(e){return n.createView(e,i)})},t.prototype.createView=function(e,t){if("function"==typeof e){if(e.prototype instanceof o)return new e(this,t);e=e()}return e instanceof o?e:e.$ui?new p(this,t,e):new h(this,t,e)},t.prototype.show=function(e){return this.$router.get()!==e?this._render(e):Promise.resolve(!0)},t.prototype.canNavigate=function(e,t){var n={url:i(e),redirect:e,confirm:Promise.resolve(!0)};return this.callEvent("app:guard",[e,t||this._view,n])?n.confirm.catch(function(){return n.redirect=null}).then(function(){return n.redirect}):Promise.reject("")},t.prototype.destructor=function(){this._view.destructor()},t.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.apply(e,t)},t.prototype.apply=function(e,t){this.callEvent(e,t)},t.prototype.action=function(e){return this.webix.bind(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.apply(e,t)},this)},t.prototype.on=function(e,t){this.attachEvent(e,t)},t.prototype.use=function(e,t){e(this,null,t)},t.prototype.error=function(e,t){if(this.callEvent(e,t),this.callEvent("app:error",t),this.config.debug)for(var n=0;n<t.length;n++)if(console.error(t[n]),t[n]instanceof Error){var o=t[n].message;0===o.indexOf("Module build failed")?(o=o.replace(/\x1b\[[0-9;]*m/g,""),document.body.innerHTML="<pre style='font-size:16px; background-color: #ec6873; color: #000; padding:10px;'>"+o+"</pre>"):(o+="<br><br>Check console for more details",webix.message({type:"error",text:o,expire:-1}))}},t.prototype._render=function(e){var t=this;!this.$router&&(webix.attachEvent("onClick",function(e){return t.clickHandler(e)}),e=this._first_start(e));var n="string"==typeof e?e:r(e);return this.canNavigate(n).then(function(e){return null!==e?(t.$router.set(e,{silent:!0}),t._render_stage(e)):null})},t.prototype._render_stage=function(e){var t=this,n="string"==typeof e?i(e):e;return webix.ui.freeze(function(){return t.createFromURL(n,t._view).then(function(e){var o=t._view;return t._view=e,e.render(t._container,n,t._parent).then(function(i){return o&&o!==t._view&&o.destructor(),t._view.getRoot().getParentView()&&(t._container=i),t._root=i,t.callEvent("app:route",[n]),e})}).catch(function(e){t.error("app:error:render",[e])})})},t.prototype._urlChange=function(e){return alert("Not implemented"),Promise.resolve(!0)},t.prototype._first_start=function(e){var t=this;if(this.$router=new(this.config.router||g)(function(e){return setTimeout(function(){t._render(e)},1)},this.config),this._container===document.body&&!1!==this.config.animation){var n=this._container;webix.html.addCss(n,"webixappstart"),setTimeout(function(){webix.html.removeCss(n,"webixappstart"),webix.html.addCss(n,"webixapp")},10)}return e&&1!==e.length||(e=this.$router.get()||this.config.start,this.$router.set(e,{silent:!0})),e},t.prototype._loadError=function(e,t){return this.error("app:error:resolve",[t,e]),{template:" "}},t.prototype.addSubView=function(e,t,n){var i=!0!==e.$subview?e.$subview:null,r=e.name||(i?this.webix.uid():"default");t.id=e.id||"s"+this.webix.uid();var a=n[r]={id:t.id,url:i};return a.url instanceof o&&(a.view=a.url),t},t}(o);(function(){function e(e,t){this.name=t.storeName||t.id+":route",this.cb=e}e.prototype.set=function(e,t){var n=this;webix.storage.session.put(this.name,e),t&&t.silent||setTimeout(function(){return n.cb(e)},1)},e.prototype.get=function(){return webix.storage.session.get(this.name)}})(),function(){function e(e,t){var n=this;this.cb=e,window.onpopstate=function(){return n.cb(n.get())},this.prefix=t.routerPrefix||""}e.prototype.set=function(e,t){var n=this;this.get()!==e&&window.history.pushState(null,null,this.prefix+e),t&&t.silent||setTimeout(function(){return n.cb(e)},1)},e.prototype.get=function(){var e=window.location.pathname.replace(this.prefix,"");return"/"!==e?e:""}}(),function(){function e(e,t){this.path="",this.cb=e}e.prototype.set=function(e,t){var n=this;this.path=e,t&&t.silent||setTimeout(function(){return n.cb(e)},1)},e.prototype.get=function(){return this.path}}();var w=n(23),_=n.n(w);function x(e,t,n){t.urls&&(n=t.urls[n]||n),e.show("./"+n)}var C={good:"check",error:"warning",saving:"refresh fa-spin"},j={good:"Ok",error:"Error",saving:"Connecting..."};function A(e,t,n){for(var o=0;o<n.length;o++)e.setParam(n[o],t[o+1]?t[o+1].page:"")}n.d(t,"d",function(){return $}),n.d(t,"b",function(){return b}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return g});var $={UnloadGuard:function(e,t,n){t.on(e,"app:guard",function(e,o,i){if(o===t||o.contains(t)){var r=n();i.confirm=!1===r?Promise.reject(r):i.confirm.then(function(){return r})}})},Locale:function(e,t,o){var i=(o=o||{}).storage,r=i?i.get("lang")||"en":o.lang||"en",a={_:null,polyglot:null,getLang:function(){return r},setLang:function(t,s){var c=(o.path?o.path+"/":"")+t,u=n(27)("./"+c);u.__esModule&&(u=u.default);var l=a.polyglot=new _.a({phrases:u});l.locale(t),a._=webix.bind(l.t,l),r=t,i&&i.put("lang",r),s||e.refresh()}};e.setService("locale",a),a.setLang(r,!0)},Menu:function(e,t,n){var o=t.$$(n.id||n),i=!1;o.attachEvent("onchange",function(){i||x(t,n,this.getValue())}),o.attachEvent("onafterselect",function(){if(!i){var e=null;o.setValue?e=this.getValue():o.getSelectedId&&(e=o.getSelectedId()),x(t,n,e)}}),t.on(e,"app:route",function(e){var n=e[t.getIndex()];if(n){i=!0;var r=n.page;o.setValue&&o.getValue()!==r?o.setValue(r):o.select&&o.exists(r)&&o.getSelectedId()!==r&&o.select(r),i=!1}})},Theme:function(e,t,n){var o=(n=n||{}).storage,i=o?o.get("theme")||"flat-default":n.theme||"flat-default",r={getTheme:function(){return i},setTheme:function(t,n){for(var r=t.split("-"),a=document.getElementsByTagName("link"),s=0;s<a.length;s++){var c=a[s].getAttribute("title");c&&(c===t||c===r[0]?a[s].disabled=!1:a[s].disabled=!0)}webix.skin.set(r[0]),webix.html.removeCss(document.body,"theme-"+i),webix.html.addCss(document.body,"theme-"+t),i=t,o&&o.put("theme",t),n||e.refresh()}};e.setService("theme",r),r.setTheme(i,!0)},User:function(e,t,n){var o=(n=n||{}).login||"/login",i=n.logout||"/logout",r=n.afterLogin||e.config.start,a=n.afterLogout||"/login",s=n.ping||3e5,c=n.model,u=n.user,l={getUser:function(){return u},getStatus:function(e){return e?c.status().catch(function(){return null}).then(function(e){u=e}):null!==u},login:function(t,n){return c.login(t,n).then(function(t){if(u=t,!t)throw new Error("Access denied");e.callEvent("app:user:login",[u]),e.show(r)})},logout:function(){return u=null,c.logout().then(function(t){return e.callEvent("app:user:logout",[]),t})}};function p(e,t){e===i?(l.logout(),t.redirect=a):e===o||l.getStatus()||(t.redirect=o)}e.setService("user",l),e.attachEvent("app:guard",function(e,t,n){return void 0===u&&(n.confirm=l.getStatus(!0).then(function(){return p(e,n)})),p(e,n)}),s&&setInterval(function(){return l.getStatus(!0)},s)},Status:function(e,t,n){var o="good",i=0,r=!1,a=n.expire;a||!1===a||(a=2e3);var s=n.texts||j,c=n.icons||C;function u(e){var i=t.$$(n.target);i&&(e||(e="<div class='status_"+o+"'><span class='webix_icon fa-"+c[o]+"'></span> "+s[o]+"</div>"),i.setHTML(e))}function l(){i--,d("good")}function p(e){i--,d("error",e)}function f(e){i++,d("saving"),e&&e.then&&e.then(l,p)}function h(){0===i&&u(" ")}function d(t,n){i<0&&(i=0),"saving"===t?(o="saving",u()):(r="error"===t,0===i&&(o=r?"error":"good",r?e.error("app:error:server",[n.responseText||n]):a&&setTimeout(h,a),u()))}function v(e){var n=webix.dp(e);n&&(t.on(n,"onAfterDataSend",f),t.on(n,"onAfterSaveError",function(e,t,n){return p(n)}),t.on(n,"onAfterSave",l))}"string"==typeof n&&(n={target:n}),e.setService("status",{getStatus:function(){return o},setStatus:d,track:v}),n.remote&&t.on(webix,"onRemoteCall",f),n.ajax&&t.on(webix,"onBeforeAjax",function(e,t,n,o,i,r,a){f(a)}),n.data&&v(n.data)},UrlParam:function(e,t,n){var o=n.route||n;t.on(e,"app:urlchange",function(e,n){t===e&&(A(t,n,o),n.splice(1,o.length))}),t.on(e,"app:paramchange",function(e,n,i,r){if(t===e&&r)for(var a=0;a<o.length;a++)if(o[a]===n)return t.show([a,i]),!1}),A(t,t.getUrl(),o)}};window.Promise||(window.Promise=webix.promise)},function(e,t,n){"use strict";n.d(t,"a",function(){return o});n(0);var o={errorMessageAjax:function(e){var t=e.response;webix.alert({type:"alert-error",title:"ERROR",text:t})},errorMessage:function(e){webix.alert({type:"alert-error",title:"ERROR",text:e})},normalMessage:function(e){webix.alert({title:"INFORMATION",text:e})}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(0),i={getServicios:function(e){return new webix.promise(function(t,n){o.a.getConfig().then(function(t){var n=t.urlApi+"/api/servicios";return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json","x-apiKey":e.apiKey}).get(n)}).then(function(e){t(e.json())}).catch(function(e){n(e)})})},getServiciosComercial:function(e){return new webix.promise(function(t,n){o.a.getConfig().then(function(t){var n=t.urlApi+"/api/servicios/agente/"+e.comercialId;return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json","x-apiKey":e.apiKey}).get(n)}).then(function(e){t(e.json())}).catch(function(e){n(e)})})},getServicio:function(e,t){return new webix.promise(function(n,i){o.a.getConfig().then(function(n){var o=n.urlApi+"/api/servicios/"+t;return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json","x-apiKey":e.apiKey}).get(o)}).then(function(e){n(e.json())}).catch(function(e){i(e)})})},postServicio:function(e,t){return new webix.promise(function(n,i){o.a.getConfig().then(function(n){var o=n.urlApi+"/api/servicios";return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json","x-apiKey":e.apiKey}).post(o,{servicio:t})}).then(function(e){n(e.json())}).catch(function(e){i(e)})})},putServicio:function(e,t){return t=i.cleanServicio(t),new webix.promise(function(n,i){o.a.getConfig().then(function(n){var o=n.urlApi+"/api/servicios/"+t.servicioId;return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json","x-apiKey":e.apiKey}).put(o,{servicio:t})}).then(function(e){n(e.json())}).catch(function(e){i(e)})})},deleteServicio:function(e,t){return new webix.promise(function(n,i){o.a.getConfig().then(function(n){var o=n.urlApi+"/api/servicios/"+t;return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json","x-apiKey":e.apiKey}).del(o)}).then(function(e){n(e.json())}).catch(function(e){i(e)})})},cleanServicio:function(e){return delete e.direccion,delete e.usuario,delete e.cliente,delete e.agente,delete e.tipoProfesional,delete e.fechaSolicitud,e}}},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o={prepareDataForDataTable:function(e,t){var n=[];return t.forEach(function(t){t.id=t[e],n.push(t)}),n},prepareDataForCombo:function(e,t,n){var o=[];return n.forEach(function(n){o.push({id:n[e],value:n[t]})}),o}}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(0),i={getLocalesAfectados:function(e){return new webix.promise(function(t,n){o.a.getConfig().then(function(t){var n=t.urlApi+"/api/locales_afectados";return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json","x-apiKey":e.apiKey}).get(n)}).then(function(e){t(e.json())}).catch(function(e){n(e)})})},getLocalesAfectadosServicio:function(e,t){return new webix.promise(function(n,i){o.a.getConfig().then(function(n){var o=n.urlApi+"/api/locales_afectados/servicio/"+t;return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json","x-apiKey":e.apiKey}).get(o)}).then(function(e){n(e.json())}).catch(function(e){i(e)})})},getLocalAfectado:function(e,t){return new webix.promise(function(n,i){o.a.getConfig().then(function(n){var o=n.urlApi+"/api/locales_afectados/"+t;return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json","x-apiKey":e.apiKey}).get(o)}).then(function(e){n(e.json())}).catch(function(e){i(e)})})},postLocalAfectado:function(e,t){return new webix.promise(function(n,i){o.a.getConfig().then(function(n){var o=n.urlApi+"/api/locales_afectados";return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json","x-apiKey":e.apiKey}).post(o,{localAfectado:t})}).then(function(e){n(e.json())}).catch(function(e){i(e)})})},putLocalAfectado:function(e,t){return t=i.cleanLocalAfectado(t),new webix.promise(function(n,i){o.a.getConfig().then(function(n){var o=n.urlApi+"/api/locales_afectados/"+t.localAfectadoId;return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json","x-apiKey":e.apiKey}).put(o,{localAfectado:t})}).then(function(e){n(e.json())}).catch(function(e){i(e)})})},deleteLocalAfectado:function(e,t){return new webix.promise(function(n,i){o.a.getConfig().then(function(n){var o=n.urlApi+"/api/locales_afectados/"+t;return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json","x-apiKey":e.apiKey}).del(o)}).then(function(e){n(e.json())}).catch(function(e){i(e)})})},cleanLocalAfectado:function(e){return delete e.direccion,delete e.usuario,delete e.cliente,delete e.agente,delete e.tipoProfesional,delete e.fechaSolicitud,e}}},function(e,t,n){"use strict";n.r(t);var o=n(2),i=n(1),r=n(3),a=n(5),s=n(6);var c=0,u=0,l=["Lunes","Martes","Miércoles","Jueves","Viernes","Sábado","Domingo"],p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.config=function(){return{view:"window",id:"w2",position:"center",move:!0,resize:!0,width:800,head:{view:"toolbar",cols:[{},{view:"icon",icon:"mdi mdi-close",click:function(){$$("w2").hide()}}]},modal:!0,body:{view:"layout",id:"localesAfectadosForm",rows:[{view:"toolbar",padding:3,elements:[{view:"icon",icon:"mdi mdi-office-building",width:37,align:"left"},{view:"label",label:"Local afectado"}]},{view:"form",id:"frmLocalesAfectados",elements:[{cols:[{view:"text",id:"local",name:"local",required:!0,label:"Ubicación",labelPosition:"top"}]},{rows:[{template:"Persona de contacto",type:"section"},{cols:[{view:"text",id:"personaContacto",name:"personaContacto",required:!0,label:"Nombre",labelPosition:"top"},{view:"text",id:"cargo",name:"cargo",label:"Cargo",labelPosition:"top"}]}]},{rows:[{template:"Horario de atención",type:"section"},{cols:[{view:"text",id:"telefono1",name:"telefono1",required:!0,label:"Teléfono (1)",labelPosition:"top"},{view:"text",id:"telefono2",name:"telefono2",label:"Teléfono (2)",labelPosition:"top"},{view:"text",id:"correoElectronico",name:"correoElectronico",label:"Correo electrónico",labelPosition:"top"}]},{cols:[{view:"text",id:"deHoraAtencion",name:"deHoraAtencion",label:"Mañanas desde",labelPosition:"top"},{view:"text",id:"aHoraAtencion",name:"aHoraAtencion",label:"hasta",labelPosition:"top"},{view:"text",id:"deHoraAtencion2",name:"deHoraAtencion2",label:"Tardes desde",labelPosition:"top"},{view:"text",id:"aHoraAtencion2",name:"aHoraAtencion2",label:"hasta",labelPosition:"top"},{view:"combo",id:"deDiaSemana",name:"deDiaSemana",options:l,label:"De",labelPosition:"top"},{view:"combo",id:"aDiaSemana",name:"aDiaSemana",options:l,label:"A",labelPosition:"top"}]}]},{cols:[{view:"textarea",id:"comentarios",name:"comentarios",label:"Comentarios",labelPosition:"top"}]},{margin:5,cols:[{gravity:5},{view:"button",label:"Cancelar",click:this.cancel,hotkey:"esc"},{view:"button",label:"Aceptar",click:this.accept,type:"form",hotkey:"enter"}]}]}]}}},t.prototype.showWindow=function(e,t){this.getRoot().show(),u=e,0!=(c=t)?s.a.getLocalAfectado(i.a.getUsuarioCookie(),c).then(function(e){$$("frmLocalesAfectados").setValues(e)}).catch(function(e){r.a.errorMessageAjax(e)}):$$("frmLocalesAfectados").setValues({})},t.prototype.cancel=function(){$$("w2").hide()},t.prototype.accept=function(){var e=this;if($$("frmLocalesAfectados").validate()){var t=$$("frmLocalesAfectados").getValues();0==c?(t.localAfectadoId=0,t.servicioId=u,s.a.postLocalAfectado(i.a.getUsuarioCookie(),t).then(function(t){e.$scope.refreshServicioFormGrid(u,t.localAfectadoId)}).catch(function(e){r.a.errorMessageAjax(e)})):s.a.putLocalAfectado(i.a.getUsuarioCookie(),t).then(function(t){e.$scope.refreshServicioFormGrid(u,t.localAfectadoId)}).catch(function(e){r.a.errorMessageAjax(e)})}else r.a.errorMessage("Debe rellenar los campos correctamente")},t.prototype.refreshServicioFormGrid=function(e,t){s.a.getLocalesAfectadosServicio(i.a.getUsuarioCookie(),e).then(function(e){$$("localesAfectadosGrid").clearAll(),e&&$$("localesAfectadosGrid").parse(a.a.prepareDataForDataTable("localAfectadoId",e)),t&&($$("localesAfectadosGrid").select(t),$$("localesAfectadosGrid").showItem(t)),$$("w2").hide()}).catch(function(e){r.a.errorMessageAjax(e)})},t}(o.c);t.default=p},function(e,t,n){"use strict";n.r(t);var o=n(2);var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.config=function(){this.app.getService("locale")._;return{view:"sidebar",width:200,id:"main:menu",activeTitle:!0,select:!0,data:[{id:"inicio",icon:"mdi mdi-home",value:"Inicio"},{id:"servicios",icon:"mdi mdi-home-assistant",value:"Servicios"}]}},t.prototype.init=function(){this.use(o.d.Menu,"main:menu")},t}(o.c);t.default=i},function(e,t,n){"use strict";n.r(t);var o=n(2),i=n(1);var r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.config=function(){var e=this,t=this.app,n=(t.getService("locale"),t.getService("theme"),i.a.getUsuarioCookie()),o=this.app.getService("locale")._;return{view:"toolbar",height:60,elements:[{view:"button",type:"icon",icon:"mdi mdi-menu",width:37,align:"left",click:function(){$$("main:menu").toggle()}},{view:"label",label:"<a href='#!/top/inicio'><img src='assets/img/logo.png' height='50' /></a>",width:150},{view:"button",type:"icon",icon:"mdi mdi-account-key mdi-36px",width:50},{height:46,id:"person_template",css:"header_person",borderless:!0,data:n,template:function(e){var t="<div style='height:100%;width:100%;'>";return t+="<span class='name'>"+e.nombre+"</span> </div>"}},{view:"label",label:"\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t<img style=\"vertical-align:middle\" src='assets/img/handshake.png' height='35' />\n\t\t\t\t\t\t<span>"+this.app.config.name+"</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t",width:200},{view:"button",type:"icon",icon:"mdi mdi-exit-run mdi-36px",width:50,align:"right",tooltip:o("Salir y logout"),click:function(){i.a.deleteUsuarioCookie(),e.show("/login")}}]}},t.prototype.init=function(){},t}(o.c);t.default=r},function(e,t,n){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};
/*!
 * webix-routie - router for Webix-Jet
 * v0.4.0
 * MIT License
 *
 * based on routie - a tiny hash router
 * http://projects.jga.me/routie
 * copyright Greg Allen 2016
 * MIT License
*/e.exports=function(e,t){var n,i=[],r={},a=e.routie,s=function(e,t){this.name=t,this.path=e,this.keys=[],this.fns=[],this.params={},this.regex=c(this.path,this.keys,!1,!1)};s.prototype.addHandler=function(e){this.fns.push(e)},s.prototype.removeHandler=function(e){for(var t=0,n=this.fns.length;t<n;t++)if(e==this.fns[t])return void this.fns.splice(t,1)},s.prototype.run=function(e){for(var t=0,n=this.fns.length;t<n;t++)if(!1===this.fns[t].apply(this,e))return!1;return!0},s.prototype.match=function(e,t){var n=this.regex.exec(e);if(!n)return!1;for(var o=1,i=n.length;o<i;++o){var r=this.keys[o-1],a="string"==typeof n[o]?decodeURIComponent(n[o]):n[o];r&&(this.params[r.name]=a),t.push(a)}return!0},s.prototype.toURL=function(e){var t=this.path;for(var n in e)t=t.replace("/:"+n,"/"+e[n]);if(-1!=(t=t.replace(/\/:.*\?/g,"/").replace(/\?/g,"")).indexOf(":"))throw new Error("missing parameters for url: "+t);return t};var c=function(e,t,n,o){return e instanceof RegExp?e:(e instanceof Array&&(e="("+e.join("|")+")"),e=e.concat(o?"":"/?").replace(/\/\(/g,"(?:/").replace(/\+/g,"__plus__").replace(/(\/)?(\.)?:(\w+)(?:(\(.*?\)))?(\?)?/g,function(e,n,o,i,r,a){return t.push({name:i,optional:!!a}),n=n||"",(a?"":n)+"(?:"+(a?n:"")+(o||"")+(r||o&&"([^/.]+?)"||"([^/]+?)")+")"+(a||"")}).replace(/([/.])/g,"\\$1").replace(/__plus__/g,"(.+)").replace(/\*/g,"(.*)"),new RegExp("^"+e+"$",n?"":"i"))},u=function(e,t){var n=e.split(" "),o=2==n.length?n[0]:null;e=2==n.length?n[1]:n[0],r[e]||(r[e]=new s(e,o),i.push(r[e])),r[e].addHandler(t)},l=function e(t,n){if("function"==typeof n)u(t,n),e.reload();else if("object"==(void 0===t?"undefined":o(t))){for(var i in t)u(i,t[i]);e.reload()}else void 0===n&&e.navigate(t)};l.lookup=function(e,t){for(var n=0,o=i.length;n<o;n++){var r=i[n];if(r.name==e)return r.toURL(t)}},l.remove=function(e,t){var n=r[e];n&&n.removeHandler(t)},l.removeAll=function(){r={},i=[],n=""},l.navigate=function(e,t){var n=(t=t||{}).silent||!1;n&&v(),setTimeout(function(){window.location.hash=e,n&&setTimeout(function(){d()},1)},1)},l.noConflict=function(){return e.routie=a,l};var p=function(){return window.location.hash.substring(1)},f=function(e,t){var n=[];return t.match(e,n)?!1!==t.run(n)?1:0:-1},h=l.reload=function(){for(var e=p(),t=0,o=i.length;t<o;t++){var r=i[t],a=f(e,r);if(1===a){n=e;break}if(0===a){l.navigate(n,{silent:!0});break}}},d=function(){e.addEventListener?e.addEventListener("hashchange",h,!1):e.attachEvent("onhashchange",h)},v=function(){e.removeEventListener?e.removeEventListener("hashchange",h):e.detachEvent("onhashchange",h)};if(d(),n=p(),t)return l;e.routie=l}(window,!0),e.exports.default=e.exports},function(e,t,n){"use strict";n.r(t);var o=n(2);n(1),n(3);var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.config=function(){this.app.getService("locale")._;return{template:"<h1>Bienvenido al espacio para colaboradores de Comercializa</h1>\n            <p>Dispone de un menú a su izquierda con el que puede acceder a las diferentes opciones de la aplicación</p>\n            "}},t}(o.c);t.default=i},function(e,t,n){"use strict";n.r(t);var o=n(2);var i={rows:[{view:"toolbar",id:"layout:toolbar"},{cols:[{view:"sidebar",id:"layout:menu",template:"<span class='webix_icon fa-#icon#'></span> #value# ",data:[{value:"DashBoard",id:"start",icon:"envelope-o"},{value:"Data",id:"data",icon:"briefcase"}]},{view:"resizer",id:"resizer"},{rows:[{height:49,id:"title",css:"title",template:"<div class='header'>#title#</div><div class='details'>( #details# )</div>",data:{text:"",title:""}},{view:"scrollview",scroll:"native-y",body:{cols:[{$subview:!0}]}}]}]}]},r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.config=function(){return i},t.prototype.init=function(){this.use(o.d.Menu,"layout:menu")},t}(o.c);t.default=r},function(e,t,n){"use strict";n.r(t);var o=n(2),i=n(1),r=n(3),a=n(0);var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.config=function(){return{view:"layout",css:"loginBack",rows:[{},{cols:[{},{rows:[{view:"form",width:300,css:"round-border",id:"frmLogin",elements:[{view:"label",height:100,align:"center",label:"<img src='assets/img/logo.png'/>"},{view:"label",align:"center",id:"version",label:"VRS"},{view:"text",name:"login",required:!0,label:"Usuario",labelPosition:"top"},{view:"text",type:"password",name:"password",required:!0,label:"Contraseña",labelPosition:"top"},{margin:5,cols:[{view:"button",label:"Cancelar",click:this.cancel,hotkey:"esc"},{view:"button",label:"Aceptar",click:this.accept,type:"form",hotkey:"enter"}]}]}]},{}]},{}]}},t.prototype.init=function(){a.a.getVersion().then(function(e){$$("version").data.label="VRS "+e.version,$$("version").refresh()}).catch(function(e){r.a.errorMessageAjax(e)})},t.prototype.cancel=function(){},t.prototype.accept=function(){var e=this;if($$("frmLogin").validate()){var t=$$("frmLogin").getValues();i.a.getLogin(t.login,t.password).then(function(t){var n=t;delete n.password,n.apiKey="X2X",i.a.setUsuarioCookie(n),e.$scope.show("top/inicio")}).catch(function(e){r.a.errorMessageAjax(e)})}else r.a.errorMessage("Debe rellenar los campos correctamente")},t}(o.c);t.default=s},function(e,t,n){"use strict";n.r(t);var o=n(2),i=n(1),r=n(3);var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.config=function(){return{template:"Login auto..."}},t.prototype.init=function(e,t){},t.prototype.urlChange=function(e,t){var n=this;if(!t[0].params.email)return r.a.errorMessage("Bad return from Azure");i.a.getLoginEmail(t[0].params.email).then(function(e){i.a.setUsuarioCookie(e),n.app.show("top/inicio")}).catch(function(e){r.a.errorMessageAjax(e)})},t}(o.c);t.default=a},function(e,t,n){"use strict";n.r(t);var o=n(2),i=n(1),r=n(3),a=n(5),s=n(4);var c,u,l=!1,p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.config=function(){var e=this;this.app.getService("locale")._;return{rows:[{view:"toolbar",padding:3,elements:[{view:"icon",icon:"mdi mdi-home-assistant",width:37,align:"left"},{view:"label",label:"Servicios"}]},{cols:[{view:"button",type:"form",icon:"wxi-plus",align:"left",hotkey:"Ctrl+F",value:"Solicitar un nuevo servicio",width:300,click:function(){e.show("/top/serviciosForm?servicioId=0")}},{},{view:"pager",id:"mypager",css:{"text-align":"right"},template:"{common.first()} {common.prev()} {common.pages()} {common.next()} {common.last()}",size:25,group:5}]},{view:"datatable",id:"serviciosGrid",pager:"mypager",select:"row",columns:[{id:"fechaSolicitud",adjust:!0,header:["Fecha solicitud",{content:"textFilter"}],sort:"date",format:webix.Date.dateToStr("%d/%m/%Y")},{id:"tipoProfesional",fillspace:!0,header:["Tipo profesional",{content:"textFilter"}],sort:"string"},{id:"descripcion",fillspace:!0,header:["Descripción del servicio solicitado",{content:"textFilter"}],sort:"string"},{id:"direccion",fillspace:!0,header:["Dirección",{content:"textFilter"}],sort:"string"},{id:"actions",header:[{text:"Acciones",css:{"text-align":"center"}}],template:"<span class='onEdit webix_icon wxi-pencil'></span>",css:{"text-align":"center"}}],onClick:{onEdit:function(e,t,n){this.$scope.edit(t.row)}},editable:!0,editaction:"dblclick",rules:{nombre:webix.rules.isNotEmpty},on:{onAfterEditStart:function(e){c=e.row,u=this.data.pull[c]},onAfterEditStop:function(e,t,n){var o=this,a=this.getColumnIndex(t.column),p=this.config.columns.length;if(l&&a!=p-2)return!1;if(e.value!=e.old)if(l=!1,this.validate(c)){delete(u=this.data.pull[c]).id;var f=u;0==f.servicioId?s.a.postServicio(i.a.getUsuarioCookie(),f).then(function(e){o.$scope.load(e.servicioId),$$("serviciosGrid").editStop()}).catch(function(e){r.a.errorMessageAjax(e)}):s.a.putServicio(i.a.getUsuarioCookie(),f).then(function(e){}).catch(function(e){r.a.errorMessageAjax(e)})}else r.a.errorMessage("Valores incorrectos")}}}]}},t.prototype.init=function(e,t){i.a.checkLoggedUser();var n=null;t[0].params.servicioId&&(n=t[0].params.servicioId),webix.UIManager.addHotKey("Esc",function(){return $$("serviciosGrid").remove(-1),!1},$$("serviciosGrid")),this.load(n)},t.prototype.load=function(e){s.a.getServiciosComercial(i.a.getUsuarioCookie()).then(function(t){$$("serviciosGrid").clearAll(),$$("serviciosGrid").parse(a.a.prepareDataForDataTable("servicioId",t)),e&&($$("serviciosGrid").select(e),$$("serviciosGrid").showItem(e))}).catch(function(e){r.a.errorMessageAjax(e)})},t.prototype.edit=function(e){this.show("/top/serviciosForm?servicioId="+e)},t}(o.c);t.default=p},function(e,t,n){"use strict";n.r(t);var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.config=function(){return{template:"This is sub"}},t.prototype.caller=function(){alert("TESTS")},t}(n(2).c);t.default=o},function(e,t,n){"use strict";n.r(t);var o=n(2),i=n(8),r=n(9);var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.config=function(){return{type:"view",rows:[r.default,{cols:[i.default,{view:"resizer",id:"resizer"},{$subview:!0}]}]}},t.prototype.init=function(){},t}(o.c);t.default=a},function(e,t,n){"use strict";n.r(t),t.default={Inicio:"Home","Administración":"Administration","Parámetros":"Parameters",paginainicio:"\n        <h1>Initial page</h1>\n        <p>This is the inital page in English</p>\n    ","Año en curso":"Current year","Contador actual":"Current counter","Contador inicial año":"Initial year counter","Documentos aplicables (ESPAÑA)":"Applicable documents (SPAIN)","Documentos aplicables (UK)":"Applicable documents (UK)","Documentos aplicables (FRANCIA)":"Applicable documents (FRANCE)",Aceptar:"Accept",Cancelar:"Cancel","Grupos de usuarios":"User groups","Nombre de grupo":"Group name",ID:"ID",Acciones:"Actions","¿Seguro que quiere eliminar ":"Are you sure to delete ","Debe rellenar los campos correctamente":"You must fill in the fields correctly","Valores incorrectos":"Wrong values",Paises:"Countries","Nombre de pais":"Country name","Código":"Code",Empresas:"Companies","Nombre empresa":"Company name","Pais relacionado":"Related country","Unidades de negocio":"Business units","Unidad de negocio":"Business unit","Nombre unidad de negocio":"Business unit name","Nombre Francés":"French name","Nombre Inglés":"English name",Areas:"Areas","Nombre area":"Area name",Orden:"Order","Unidad negocio relacionada":"Related business unit",Usuarios:"Users","Nombre usuario":"User name",Grupo:"Group",Idioma:"Language",Administrador:"Administrator",Responsable:"Responsable",Area:"Area","Unidad negocio":"Business unit","Correo Azure":"Azure Email","Ubicación":"Location","Grupo usuarios":"Users group",Pais:"Country",Empresa:"Company","Fases de oferta":"Deal stages","Nombre fase de oferta":"Deal stage name","Tipos de oportunidad":"Type of deal","Nombre tipo de oportunidad":"Type of deal name","Tipos de contrato":"Type of contract","Nombre tipo de contrato":"Type of contract name",Estados:"Statuses","Nombre estado":"Status name","Razon perdida":"Reason lost","Razones perdida":"Reasons lost","Nombre razon perdida":"Reason lost name",Divisas:"Currencies","Nombre divisa":"Currency name","Salir y logout":"Exit and logout","Nuevo registro en formulario (Ctrl+F)":"New record in form (Ctrl+F)","Nuevo registro en línea (Ctrl+L)":"New record inline (Ctrl + L)","Descargar como Excel":"Dowload as Excel"}},function(e,t,n){"use strict";n.r(t),t.default={Inicio:"Inicio"}},function(e,t,n){"use strict";n.r(t),t.default={"Ancient Dashboard":"Ancient Dashboard"}},function(e,t,n){"use strict";n.r(t);var o=n(2),i=n(1),r=n(3),a=n(5),s=n(4),c=n(6),u=n(7),l=n(0),p=function(e){return new Promise(function(t,n){l.a.getConfig().then(function(t){var n=t.one_push_url,o=i.a.getUsuarioCookie(),r={app_id:t.one_app_id,included_segments:["Active Users"],contents:{en:"El usuario "+o.nombre+" ha dado de alta un nuevo servicio. Haga clic en este mensaje para verlo"},headings:{en:"NUEVA SOLICITUD DE SERVICIO EN LA PLATAFORMA"},url:t.urlApi+"/ServicioDetalle.html?ServicioId="+e};return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json",Authorization:"Basic "+t.one_api_key}).post(n,r)}).then(function(e){t(e.json())}).catch(function(e){n(e)})})},f=function(e){return new webix.promise(function(t,n){l.a.getConfig().then(function(t){var n=t.urlClient+"/mailjet";return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json"}).post(n,e)}).then(function(e){console.log("RES: ",e),t(e.json())}).catch(function(e){console.log("ERR: ",e),n(e)})})};var h=0,d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.config=function(){var e=this;this.app.getService("locale")._;return{minHeight:300,rows:[{view:"toolbar",padding:3,elements:[{view:"icon",icon:"mdi mdi-office-building",width:37,align:"left"},{view:"label",label:"Locales afectados"}]},{cols:[{view:"button",type:"form",icon:"wxi-plus",align:"left",hotkey:"Ctrl+F",value:"Agregar un local",width:300,click:function(){if(0==h){if(!$$("frmServicios").validate())return void r.a.errorMessage("Debe rellenar los campos correctamente");var t=$$("frmServicios").getValues();t.servicioId=0,t.agenteId=i.a.getUsuarioCookie().comercialId,s.a.postServicio(i.a.getUsuarioCookie(),t).then(function(t){return e.show("/top/serviciosForm?servicioId="+t.servicioId+"/localesAfectados?servicioId"+t.servicioId+"&new=1"),e.win2.showWindow(t.servicioId,0),h=t.servicioId,p(t.servicioId)}).then(function(e){return l.a.getConfig()}).then(function(e){var t=i.a.getUsuarioCookie(),n=e.urlApi+"/ServicioDetalle.html?ServicioId="+h,o={FromEmail:"rafa@myariadna.com",FromName:"Plataforma Agentes",Subject:"[PLATAFORMA AGENTES] Solicitud de servicio","Text-part":"El usuario "+t.nombre+" ha dado de alta un nuevo servicio. Número: "+h+" Puede consultar el servicio en: "+n,"Html-part":"El usuario "+t.nombre+" ha dado de alta un nuevo servicio. <strong>Número: "+h+"</strong><p> Puede consultar el servicio en: "+n+"</p>"};return f(o)}).then(function(e){console.log("Notificación enviada: ",e)}).catch(function(e){r.a.errorMessageAjax(e)})}else e.win2.showWindow(h,0)}},{},{view:"pager",id:"pagerLocalesAfectados",css:{"text-align":"right"},template:"{common.first()} {common.prev()} {common.pages()} {common.next()} {common.last()}",size:5,group:5}]},{view:"datatable",id:"localesAfectadosGrid",pager:"pagerLocalesAfectados",select:"row",rightSplit:1,columns:[{id:"local",fillspace:!0,header:["Local",{content:"textFilter"}],sort:"string"},{id:"personaContacto",fillspace:!0,header:["Persona contacto",{content:"textFilter"}],sort:"string"},{id:"telefono1",fillspace:!0,header:["Telefono (1)",{content:"textFilter"}],sort:"string"},{id:"correoElectronico",fillspace:!0,header:["Correo",{content:"textFilter"}],sort:"string"},{id:"actions",header:[{text:"Acciones",css:{"text-align":"center"}}],template:"<span class='onEdit webix_icon wxi-pencil'></span>",css:{"text-align":"center"}}],onClick:{onEdit:function(e,t,n){this.$scope.edit(t.row)}}}]}},t.prototype.init=function(e,t){i.a.checkLoggedUser();var n=null;t[0].params.servicioId&&(n=t[0].params.servicioId),webix.UIManager.addHotKey("Esc",function(){return $$("localesAfectadosGrid").remove(-1),!1},$$("localesAfectadosGrid")),h=n,0!=n&&this.load(n),this.win2=this.ui(u.default)},t.prototype.urlChange=function(e,t){t[0].params.servicioId&&(h=t[0].params.servicioId)},t.prototype.load=function(e){0!=e&&c.a.getLocalesAfectadosServicio(i.a.getUsuarioCookie(),e).then(function(e){$$("localesAfectadosGrid").clearAll(),e&&$$("localesAfectadosGrid").parse(a.a.prepareDataForDataTable("localAfectadoId",e))}).catch(function(e){r.a.errorMessageAjax(e)})},t.prototype.edit=function(e){this.win2.showWindow(h,e)},t}(o.c);t.default=d},function(e,t,n){"use strict";n.r(t);var o=n(2),i=n(1),r=n(0),a=function(e){return new webix.promise(function(t,n){r.a.getConfig().then(function(t){var n=t.urlApi+"/api/tipos_profesional";return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json","x-apiKey":e.apiKey}).get(n)}).then(function(e){t(e.json())}).catch(function(e){n(e)})})},s=n(4),c=function(e,t){return new webix.promise(function(n,o){r.a.getConfig().then(function(n){var o=n.urlApi+"/api/clientes/agente/"+t;return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json","x-apiKey":e.apiKey}).get(o)}).then(function(e){n(e.json())}).catch(function(e){o(e)})})},u=function(e,t){return new webix.promise(function(n,o){r.a.getConfig().then(function(n){var o=n.urlApi+"/api/clientes/"+t;return webix.ajax().timeout(1e4).headers({"Content-Type":"application/json","x-apiKey":e.apiKey}).get(o)}).then(function(e){n(e.json())}).catch(function(e){o(e)})})},l=n(3),p=n(5);var f=0,h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.config=function(){this.app.getService("locale")._;return{view:"layout",id:"serviciosForm",rows:[{view:"toolbar",padding:3,elements:[{view:"icon",icon:"mdi mdi-home-assistant",width:37,align:"left"},{view:"label",label:"Servicios"}]},{view:"form",id:"frmServicios",elements:[{cols:[{view:"datepicker",id:"fechaServicio",name:"fechaCreacion",disabled:!0,width:200,label:"Fecha solicitud",labelPosition:"top"},{view:"combo",id:"cmbTipoProfesional",name:"tipoProfesionalId",required:!0,options:{},label:"Tipo profesional",labelPosition:"top"},{view:"combo",id:"cmbClientes",name:"clienteId",required:!0,options:{},label:"Cliente",labelPosition:"top"}]},{cols:[{view:"text",id:"calle",name:"calle",required:!0,label:"Calle",labelPosition:"top"},{view:"text",id:"numero",name:"numero",width:100,label:"Número",labelPosition:"top"},{view:"text",id:"poblacion",name:"poblacion",required:!0,label:"Población",labelPosition:"top"},{view:"text",id:"codPostal",name:"codPostal",width:100,label:"Cod. Postal",labelPosition:"top"},{view:"text",id:"provincia",name:"provincia",label:"Provincia",labelPosition:"top"}]},{view:"textarea",id:"descripcion",name:"descripcion",required:!0,label:"Descripción de la avería",labelPosition:"top"},{view:"checkbox",id:"autorizacion",name:"autorizacion",label:"Autorizo reparación menor de 400€ (1)",required:!0,labelWidth:280},{$subview:!0},{borderless:!0,template:"(1) Autoriza la reparación de la avería, ajustando los precios a tarifas, \n                            el importe no superará 400€ +IVA, de lo contrario se realizará la mínima intervención para evitar daños mayores, \n                            no se realizará ningún trabajo que supere este importe sin la aceptación previa del presupuesto."},{margin:5,cols:[{gravity:5},{view:"button",label:"Cancelar",click:this.cancel,hotkey:"esc"},{view:"button",label:"Aceptar",click:this.accept,type:"form",hotkey:"enter"}]}]}]}},t.prototype.init=function(e,t){var n=this;i.a.checkLoggedUser(),t[0].params.servicioId&&(f=t[0].params.servicioId),this.load(f),webix.delay(function(){$$("cmbTipoProfesional").focus()}),this.$$("cmbClientes").attachEvent("onChange",function(e,t){n.loadClienteData(e)})},t.prototype.urlChange=function(e,t){var n=this;t[1]&&t[1].params.new&&(t[0].params.servicioId&&(f=t[0].params.servicioId),this.load(f),webix.delay(function(){$$("cmbTipoProfesional").focus()}),this.$$("cmbClientes").attachEvent("onChange",function(e,t){n.loadClienteData(e)}))},t.prototype.load=function(e){var t=this;if(0==e)return this.loadTiposProfesional(),this.loadClientesAgente(),$$("fechaServicio").setValue(new Date),void this.show("./localesAfectados?servicioId="+e);s.a.getServicio(i.a.getUsuarioCookie(),e).then(function(n){n.fechaCreacion=new Date(n.fechaCreacion),$$("frmServicios").setValues(n),t.loadTiposProfesional(n.tipoProfesionalId),t.loadClientesAgente(n.clienteId),t.show("./localesAfectados?servicioId="+e)}).catch(function(e){l.a.errorMessageAjax(e)})},t.prototype.cancel=function(){this.$scope.show("/top/servicios")},t.prototype.accept=function(){var e=this;this.$scope.app.getService("locale")._;if($$("frmServicios").validate()){var t=$$("frmServicios").getValues();0==f?(t.servicioId=0,t.agenteId=i.a.getUsuarioCookie().comercialId,s.a.postServicio(i.a.getUsuarioCookie(),t).then(function(t){e.$scope.show("/top/servicios?servicioId="+t.servicioId)}).catch(function(e){l.a.errorMessageAjax(e)})):s.a.putServicio(i.a.getUsuarioCookie(),t).then(function(){e.$scope.show("/top/servicios?servicioId="+t.servicioId)}).catch(function(e){l.a.errorMessageAjax(e)})}else l.a.errorMessage("Debe rellenar los campos correctamente")},t.prototype.loadTiposProfesional=function(e){a(i.a.getUsuarioCookie()).then(function(t){var n=p.a.prepareDataForCombo("tipoProfesionalId","nombre",t),o=$$("cmbTipoProfesional").getPopup().getList();o.clearAll(),o.parse(n),e&&($$("cmbTipoProfesional").setValue(e),$$("cmbTipoProfesional").refresh())})},t.prototype.loadClientesAgente=function(e){c(i.a.getUsuarioCookie(),i.a.getUsuarioCookie().comercialId).then(function(t){var n=p.a.prepareDataForCombo("clienteId","nombre",t),o=$$("cmbClientes").getPopup().getList();o.clearAll(),o.parse(n),e&&($$("cmbClientes").setValue(e),$$("cmbClientes").refresh())})},t.prototype.loadClienteData=function(e){0==f&&u(i.a.getUsuarioCookie(),e).then(function(e){$$("calle").setValue(e.direccion2),$$("poblacion").setValue(e.poblacion2),$$("codPostal").setValue(e.codPostal2),$$("provincia").setValue(e.provincia2)})},t}(o.c);t.default=h},function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function r(e,t,n){for(var o in e)i(e,o)&&t.call(n||e,e[o],o,e)}function a(e){e="Warning: "+e,"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(e){}}var s=String.prototype.replace,c=String.prototype.split,u="||||",l=function(e){var t=e%10;return 11!==e&&1===t?0:2<=t&&t<=4&&!(e>=12&&e<=14)?1:2},p={arabic:function(e){if(e<3)return e;var t=e%100;return t>=3&&t<=10?3:t>=11?4:5},bosnian_serbian:l,chinese:function(){return 0},croatian:l,french:function(e){return e>1?1:0},german:function(e){return 1!==e?1:0},russian:l,lithuanian:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=9&&(e%100<11||e%100>19)?1:2},czech:function(e){return 1===e?0:e>=2&&e<=4?1:2},polish:function(e){if(1===e)return 0;var t=e%10;return 2<=t&&t<=4&&(e%100<10||e%100>=20)?1:2},icelandic:function(e){return e%10!=1||e%100==11?1:0},slovenian:function(e){var t=e%100;return 1===t?0:2===t?1:3===t||4===t?2:3}},f={arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]};function h(e){var t=function(e){var t={};return r(e,function(e,n){r(e,function(e){t[e]=n})}),t}(f);return t[e]||t[c.call(e,/-/,1)[0]]||t.en}function d(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var v=/\$/g,g="$$",y=/%\{(.*?)\}/g;function m(e,t,n,o){if("string"!=typeof e)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==t)return e;var r=e,a=o||y,l="number"==typeof t?{smart_count:t}:t;if(null!=l.smart_count&&r){var f=c.call(r,u);r=function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}(f[function(e,t){return p[h(e)](t)}(n||"en",l.smart_count)]||f[0])}return r=s.call(r,a,function(e,t){return i(l,t)&&null!=l[t]?s.call(l[t],v,g):e})}function b(e){var t=e||{};this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en";var n=t.allowMissing?m:null;this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:n,this.warn=t.warn||a,this.tokenRegex=function(e){var t=e&&e.prefix||"%{",n=e&&e.suffix||"}";if(t===u||n===u)throw new RangeError('"'+u+'" token is reserved for pluralization');return new RegExp(d(t)+"(.*?)"+d(n),"g")}(t.interpolation)}b.prototype.locale=function(e){return e&&(this.currentLocale=e),this.currentLocale},b.prototype.extend=function(e,t){r(e,function(e,n){var i=t?t+"."+n:n;"object"===(void 0===e?"undefined":o(e))?this.extend(e,i):this.phrases[i]=e},this)},b.prototype.unset=function(e,t){"string"==typeof e?delete this.phrases[e]:r(e,function(e,n){var i=t?t+"."+n:n;"object"===(void 0===e?"undefined":o(e))?this.unset(e,i):delete this.phrases[i]},this)},b.prototype.clear=function(){this.phrases={}},b.prototype.replace=function(e){this.clear(),this.extend(e)},b.prototype.t=function(e,t){var n,o,i=null==t?{}:t;if("string"==typeof this.phrases[e])n=this.phrases[e];else if("string"==typeof i._)n=i._;else if(this.onMissingKey){o=(0,this.onMissingKey)(e,i,this.currentLocale,this.tokenRegex)}else this.warn('Missing translation for key: "'+e+'"'),o=e;return"string"==typeof n&&(o=m(n,i,this.currentLocale,this.tokenRegex)),o},b.prototype.has=function(e){return i(this.phrases,e)},b.transformPhrase=function(e,t,n){return m(e,t,n)},e.exports=b},function(e,t,n){"use strict";n.r(t);var o=n(2),i=(n(28),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e});var r=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r={id:"COMERCIALIZA",version:"1.1.0",router:o.a,debug:!1,start:"/login",name:"COMERCIALIZA"};return function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,i({},r,n)))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o.b);t.default=r,webix.ready(function(){var e=new r;e.use(o.d.Locale),e.use(o.d.Theme),webix.i18n.setLocale("es-ES"),e.render(),e.getService("theme").setTheme("compact")})},function(e,t){var n=webix,o=webix.version.split(".");10*o[0]+1*o[1]<53&&(n.ui.freeze=function(e){var t=e();return t&&t.then?t.then(function(e){return n.ui.$freeze=!1,n.ui.resize(),e}):(n.ui.$freeze=!1,n.ui.resize()),t});var i=n.ui.baselayout.prototype.addView,r=n.ui.baselayout.prototype.removeView,a={addView:function(e,t){if(this.$scope&&this.$scope.webixJet){var n=this.$scope,o={};e=n.app.copyConfig(e,{},o),i.apply(this,[e,t]);var r=function(e){n._renderFrame(e,o[e],n.getUrl()).then(function(){n._subs[e]=o[e]})};for(var a in o)r(a);return e.id}return i.apply(this,arguments)},removeView:function(){if(r.apply(this,arguments),this.$scope&&this.$scope.webixJet){var e=this.$scope._subs;for(var t in e)webix.$$(e[t].id)||delete e[t]}}};n.extend(n.ui.layout.prototype,a,!0),n.extend(n.ui.baselayout.prototype,a,!0),webix.protoUI({name:"jetapp",$init:function(e){this.$app=new this.app(e);var t=webix.uid().toString();e.body={id:t},this.$ready.push(function(){this.$app.render(webix.$$(t))})}},webix.ui.proxy)},function(e,t,n){var o={"./inicio":11,"./inicio.js":11,"./layout":12,"./layout.js":12,"./localesAfectados":21,"./localesAfectados.js":21,"./localesAfectadosForm":7,"./localesAfectadosForm.js":7,"./login":13,"./login.js":13,"./loginauto":14,"./loginauto.js":14,"./mainMenu":8,"./mainMenu.js":8,"./mainToolbar":9,"./mainToolbar.js":9,"./servicios":15,"./servicios.js":15,"./serviciosForm":22,"./serviciosForm.js":22,"./testsub":16,"./testsub.js":16,"./top":17,"./top.js":17};function i(e){var t=r(e);return n(t)}function r(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id=26},function(e,t,n){var o={"./en":18,"./en.js":18,"./es":19,"./es.js":19,"./fr.":20,"./fr..js":20};function i(e){var t=r(e);return n(t)}function r(e){var t=o[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id=27},function(e,t,n){}]);